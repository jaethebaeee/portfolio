# ì›Œí¬í”Œë¡œìš° ë…¸ë“œ ê°œì„  ì™„ë£Œ

ì›Œí¬í”Œë¡œìš° ë…¸ë“œ ì‹œìŠ¤í…œì„ ëŒ€í­ ê°œì„ í•˜ì—¬ ë”ìš± ì‹œê°ì ì´ê³  ê¸°ëŠ¥ì ì¸ ë…¸ë“œë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê°œì„ ì‚¬í•­

### 1. í–¥ìƒëœ ì‹œê°ì  ë””ìžì¸
- **ê·¸ë¼ë””ì–¸íŠ¸ í—¤ë”**: ê° ë…¸ë“œ íƒ€ìž…ë³„ ê³ ìœ í•œ ê·¸ë¼ë””ì–¸íŠ¸ ìƒ‰ìƒ
  - íŠ¸ë¦¬ê±°: íŒŒëž€ìƒ‰ â†’ ì¸ë””ê³ 
  - ì•¡ì…˜: ì•¡ì…˜ íƒ€ìž…ë³„ ë‹¤ì–‘í•œ ìƒ‰ìƒ (ì¹´ì¹´ì˜¤í†¡: ë…¸ëž€ìƒ‰, SMS: íŒŒëž€ìƒ‰ ë“±)
  - ì¡°ê±´: ë…¸ëž€ìƒ‰ â†’ ì£¼í™©ìƒ‰
  - ì§€ì—°: ë³´ë¼ìƒ‰ â†’ í•‘í¬ìƒ‰
  - ì‹œê°„ ì œí•œ: ì£¼í™©ìƒ‰ â†’ ì•°ë²„ìƒ‰

- **ê·¸ë¦¼ìž ë° í˜¸ë²„ íš¨ê³¼**: ë…¸ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ê·¸ë¦¼ìž íš¨ê³¼
- **ì• ë‹ˆë©”ì´ì…˜**: ì‹¤í–‰ ì¤‘ì¸ ë…¸ë“œëŠ” íŽ„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜
- **ë” í° í•¸ë“¤**: ì—°ê²°ì ì´ ë” í¬ê³  ëª…í™•í•˜ê²Œ í‘œì‹œ

### 2. ìƒíƒœ í‘œì‹œ ì‹œìŠ¤í…œ
- **ì‹¤í–‰ ìƒíƒœ ì•„ì´ì½˜**: 
  - âœ… ì„±ê³µ (ë…¹ìƒ‰)
  - âŒ ì˜¤ë¥˜ (ë¹¨ê°„ìƒ‰)
  - âš™ï¸ ì‹¤í–‰ ì¤‘ (íŒŒëž€ìƒ‰, íšŒì „ ì• ë‹ˆë©”ì´ì…˜)
  - â­ï¸ ê±´ë„ˆëœ€ (ë…¸ëž€ìƒ‰)
  - â³ ëŒ€ê¸° ì¤‘ (íšŒìƒ‰)

- **ìƒíƒœë³„ ìƒ‰ìƒ í…Œë‘ë¦¬**: ì˜¤ë¥˜ê°€ ìžˆëŠ” ë…¸ë“œëŠ” ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬
- **ì‹¤í–‰ ì •ë³´ í‘œì‹œ**: ì‹¤í–‰ íšŸìˆ˜, ì‹¤í–‰ ì‹œê°„, ë§ˆì§€ë§‰ ì‹¤í–‰ ì‹œê°„

### 3. ê²€ì¦ ì‹œìŠ¤í…œ
- **ì‹¤ì‹œê°„ ê²€ì¦**: ë…¸ë“œ ì„¤ì • ì˜¤ë¥˜ë¥¼ ì¦‰ì‹œ í‘œì‹œ
- **ê²€ì¦ ì˜¤ë¥˜ ë©”ì‹œì§€**: ë…¸ë“œ ë‚´ë¶€ì— ë¹¨ê°„ìƒ‰ ë°•ìŠ¤ë¡œ ì˜¤ë¥˜ í‘œì‹œ
- **íƒ€ìž…ë³„ ê²€ì¦**:
  - íŠ¸ë¦¬ê±°: íŠ¸ë¦¬ê±° íƒ€ìž… ë° ìŠ¤ì¼€ì¤„ ì„¤ì • ê²€ì¦
  - ì•¡ì…˜: ì•¡ì…˜ íƒ€ìž… ë° í…œí”Œë¦¿ ê²€ì¦
  - ì¡°ê±´: ì¡°ê±´ ë³€ìˆ˜, ì—°ì‚°ìž, ê°’ ê²€ì¦
  - ì§€ì—°: ì§€ì—° íƒ€ìž… ë° ê°’ ê²€ì¦
  - ì‹œê°„ ì œí•œ: ì‹œê°„ í˜•ì‹ ë° ë²”ìœ„ ê²€ì¦

### 4. íˆ´íŒ ì‹œìŠ¤í…œ
- **ìƒì„¸ ì •ë³´ íˆ´íŒ**: ë…¸ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ ìƒì„¸ ì •ë³´ í‘œì‹œ
- **ì‹¤í–‰ í†µê³„**: ì„±ê³µ/ì‹¤íŒ¨ íšŸìˆ˜, ë§ˆì§€ë§‰ ì‹¤í–‰ ì‹œê°„ ë“±
- **ì„¤ì • ì •ë³´**: ë…¸ë“œì˜ í˜„ìž¬ ì„¤ì • ê°’ í‘œì‹œ

### 5. í–¥ìƒëœ ì •ë³´ í‘œì‹œ
- **ì¡°ê±´ ë…¸ë“œ**: ì¡°ê±´ ê²°ê³¼ë¥¼ True/Falseë¡œ ëª…í™•ížˆ í‘œì‹œ
- **ì§€ì—° ë…¸ë“œ**: ì´ ëŒ€ê¸° ì‹œê°„ì„ ì´ˆ ë‹¨ìœ„ë¡œ í‘œì‹œ
- **ì‹œê°„ ì œí•œ ë…¸ë“œ**: í˜„ìž¬ í™œì„±/ë¹„í™œì„± ìƒíƒœ í‘œì‹œ
- **ì•¡ì…˜ ë…¸ë“œ**: í…œí”Œë¦¿ ID ë° ë©”ì‹œì§€ ë¯¸ë¦¬ë³´ê¸°

### 6. ì¡°ê±´ ë…¸ë“œ ê°œì„ 
- **Yes/No ë¼ë²¨**: ì—°ê²°ì„ ì— Yes/No ë¼ë²¨ í‘œì‹œ
- **ì¡°ê±´ ê²°ê³¼ í‘œì‹œ**: ì‹¤í–‰ ê²°ê³¼ë¥¼ ìƒ‰ìƒìœ¼ë¡œ êµ¬ë¶„
  - True: ë…¹ìƒ‰ ë°°ê²½
  - False: ë¹¨ê°„ìƒ‰ ë°°ê²½
- **ì—°ì‚°ìž í‘œì‹œ**: ìˆ˜í•™ ê¸°í˜¸ë¡œ í‘œì‹œ (=, â‰ , >, < ë“±)

### 7. ì‹œê°„ ì œí•œ ë…¸ë“œ ê°œì„ 
- **í™œì„± ìƒíƒœ í‘œì‹œ**: í˜„ìž¬ ì‹œê°„ì´ í™œì„± ì‹œê°„ëŒ€ì¸ì§€ í‘œì‹œ
- **íƒœì–‘/ë‹¬ ì•„ì´ì½˜**: í™œì„±/ë¹„í™œì„± ìƒíƒœë¥¼ ì•„ì´ì½˜ìœ¼ë¡œ í‘œì‹œ
- **ì‹œê°„ëŒ€ ì •ë³´**: ì‹œê°„ëŒ€ í‘œì‹œ

## ðŸ“ ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼

1. **`lib/node-status.ts`**
   - ë…¸ë“œ ìƒíƒœ íƒ€ìž… ì •ì˜
   - ìƒíƒœë³„ ìƒ‰ìƒ ë° ì•„ì´ì½˜ ì •ì˜

2. **`lib/node-validation.ts`**
   - ë…¸ë“œ ê²€ì¦ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
   - íƒ€ìž…ë³„ ê²€ì¦ ë¡œì§

3. **`components/workflow/enhanced-action-node.tsx`**
   - í–¥ìƒëœ ì•¡ì…˜ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸

4. **`components/workflow/enhanced-condition-node.tsx`**
   - í–¥ìƒëœ ì¡°ê±´ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸

5. **`components/workflow/enhanced-trigger-node.tsx`**
   - í–¥ìƒëœ íŠ¸ë¦¬ê±° ë…¸ë“œ ì»´í¬ë„ŒíŠ¸

6. **`components/workflow/enhanced-delay-node.tsx`**
   - í–¥ìƒëœ ì§€ì—° ë…¸ë“œ ì»´í¬ë„ŒíŠ¸

7. **`components/workflow/enhanced-time-window-node.tsx`**
   - í–¥ìƒëœ ì‹œê°„ ì œí•œ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸

## ðŸ”„ ê°œì„ ëœ íŒŒì¼

1. **`components/workflow/node-types.tsx`**
   - í–¥ìƒëœ ë…¸ë“œë¡œ êµì²´
   - ê¸°ì¡´ ë…¸ë“œëŠ” ë ˆê±°ì‹œë¡œ ìœ ì§€ (í•˜ìœ„ í˜¸í™˜ì„±)

## ðŸŽ¨ ì‹œê°ì  ê°œì„ ì‚¬í•­

### ìƒ‰ìƒ ì²´ê³„
- **íŠ¸ë¦¬ê±°**: íŒŒëž€ìƒ‰ ê³„ì—´ (ì‹œìž‘ì )
- **ì•¡ì…˜**: ì•¡ì…˜ íƒ€ìž…ë³„ ìƒ‰ìƒ (ë‹¤ì–‘í•œ ìž‘ì—…)
- **ì¡°ê±´**: ë…¸ëž€ìƒ‰ ê³„ì—´ (ë¶„ê¸°ì )
- **ì§€ì—°**: ë³´ë¼ìƒ‰ ê³„ì—´ (ëŒ€ê¸°)
- **ì‹œê°„ ì œí•œ**: ì£¼í™©ìƒ‰ ê³„ì—´ (ì‹œê°„ ì œì•½)

### ë ˆì´ì•„ì›ƒ
- ê·¸ë¼ë””ì–¸íŠ¸ í—¤ë”ë¡œ ë…¸ë“œ íƒ€ìž… ëª…í™•ížˆ êµ¬ë¶„
- ì •ë³´ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œì‹œ
- ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ë¹¨ê°„ìƒ‰ ë°•ìŠ¤ë¡œ ê°•ì¡°
- ì‹¤í–‰ ì •ë³´ëŠ” í•˜ë‹¨ì— ìž‘ì€ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ

## ðŸ”§ ê¸°ìˆ ì  ê°œì„ ì‚¬í•­

### ìƒíƒœ ê´€ë¦¬
```typescript
interface NodeExecutionInfo {
  status: NodeStatus;
  executionTime?: number;
  errorMessage?: string;
  lastExecuted?: Date;
  executionCount?: number;
  successCount?: number;
  errorCount?: number;
}
```

### ê²€ì¦ ì‹œìŠ¤í…œ
```typescript
// ë…¸ë“œ íƒ€ìž…ë³„ ê²€ì¦ í•¨ìˆ˜
validateTriggerNode(data)
validateActionNode(data)
validateConditionNode(data)
validateDelayNode(data)
validateTimeWindowNode(data)
```

### íˆ´íŒ í†µí•©
- ëª¨ë“  ë…¸ë“œì— ìƒì„¸ ì •ë³´ íˆ´íŒ ì¶”ê°€
- ì‹¤í–‰ í†µê³„ ë° ì„¤ì • ì •ë³´ í‘œì‹œ

## ðŸš€ ì‚¬ìš© ë°©ë²•

### ë…¸ë“œì— ì‹¤í–‰ ì •ë³´ ì¶”ê°€
```typescript
const node = {
  id: 'action-1',
  type: 'action',
  data: {
    ...nodeData,
    executionInfo: {
      status: 'success',
      executionTime: 150,
      executionCount: 10,
      successCount: 9,
      errorCount: 1,
      lastExecuted: new Date(),
    },
  },
};
```

### ë…¸ë“œ ê²€ì¦
```typescript
import { validateNode, getValidationErrorMessages } from '@/lib/node-validation';

const errors = validateNode(nodeData);
const errorMessages = getValidationErrorMessages(errors);
// ë…¸ë“œì— validationErrorsë¡œ ì „ë‹¬
```

## ðŸ’¡ í–¥í›„ ê°œì„  ê°€ëŠ¥ ì‚¬í•­

1. **ë…¸ë“œ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´**
   - ìš°í´ë¦­ìœ¼ë¡œ ë³µì œ, ì‚­ì œ, ì„¤ì • ì—´ê¸° ë“±

2. **ë…¸ë“œ ê·¸ë£¹í™”**
   - ì—¬ëŸ¬ ë…¸ë“œë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ê´€ë¦¬

3. **ë…¸ë“œ í…œí”Œë¦¿**
   - ìžì£¼ ì‚¬ìš©í•˜ëŠ” ë…¸ë“œ ì¡°í•©ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ìž¥

4. **ì‹¤í–‰ ížˆìŠ¤í† ë¦¬ ì‹œê°í™”**
   - ë…¸ë“œë³„ ì‹¤í–‰ ížˆìŠ¤í† ë¦¬ë¥¼ ê·¸ëž˜í”„ë¡œ í‘œì‹œ

5. **ë…¸ë“œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
   - ì‹¤í–‰ ì‹œê°„ ë¶„í¬, ì„±ê³µë¥  ë“±ì„ ì°¨íŠ¸ë¡œ í‘œì‹œ

6. **ë“œëž˜ê·¸ ì•¤ ë“œë¡­ ê°œì„ **
   - ë…¸ë“œ ê°„ ì—°ê²° ì‹œ ìžë™ ì •ë ¬
   - ìŠ¤ëƒ… íˆ¬ ê·¸ë¦¬ë“œ ê¸°ëŠ¥

ì´ì œ ì›Œí¬í”Œë¡œìš° ë…¸ë“œê°€ í›¨ì”¬ ë” ì‹œê°ì ì´ê³  ì •ë³´ê°€ í’ë¶€í•˜ë©° ì‚¬ìš©í•˜ê¸° íŽ¸ë¦¬í•´ì¡ŒìŠµë‹ˆë‹¤! ðŸŽ‰

